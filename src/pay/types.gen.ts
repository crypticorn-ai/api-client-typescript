// This file is auto-generated by @hey-api/openapi-ts

/**
 * API error identifiers
 */
export type ApiErrorIdentifier = string;

/**
 * API error levels
 */
export type ApiErrorLevel = string;

/**
 * Type of API error
 */
export type ApiErrorType = string;

/**
 * This is the detail of the exception. It is used to enrich the exception with additional information by unwrapping the ApiError into its components.
 */
export type ExceptionDetail = {
  /**
   * An additional error message
   */
  message?: string | null;
  /**
   * The unique error code
   */
  code: ApiErrorIdentifier;
  /**
   * The type of error
   */
  type: ApiErrorType;
  /**
   * The level of the error
   */
  level: ApiErrorLevel;
  /**
   * The HTTP status code
   */
  status_code: number;
  /**
   * Additional details about the error
   */
  details?: unknown;
};

export type LogLevel = "DEBUG" | "INFO" | "WARNING" | "ERROR" | "CRITICAL";

/**
 * Request model for creating a payment invoice.
 *
 * Creates a payment link where the customer can complete the payment.
 * With this method, the customer is required to follow the generated url to complete the payment.
 *
 * https://documenter.getpostman.com/view/7907941/2s93JusNJt#f5e4e645-dce2-4b06-b2ca-2a29aaa5e845
 */
export type NowCreateInvoiceReq = {
  /**
   * Amount to pay in fiat currency
   */
  price_amount: number;
  /**
   * Fiat currency for the price (usd, eur, etc)
   */
  price_currency: string;
  /**
   * Specific cryptocurrency or enabled fiat currency. If not specified, can be chosen on invoice_url
   */
  pay_currency?: string | null;
  /**
   * URL to receive callbacks, must contain http/https
   */
  ipn_callback_url?: string | null;
  /**
   * Internal store order ID
   */
  order_id?: string | null;
  /**
   * Internal store order description
   */
  order_description?: string | null;
  /**
   * URL for redirect after successful payment
   */
  success_url?: string | null;
  /**
   * URL for redirect after failed payment
   */
  cancel_url?: string | null;
  /**
   * URL for redirect after partial payment
   */
  partially_paid_url?: string | null;
  /**
   * Enable fixed-rate exchanges (rate frozen for 20 minutes)
   */
  is_fixed_rate?: boolean | null;
  /**
   * Enable fixed-rate exchanges with all fees paid by users
   */
  is_fee_paid_by_user?: boolean | null;
};

/**
 * Response model for created invoice.
 * https://documenter.getpostman.com/view/7907941/2s93JusNJt#f5e4e645-dce2-4b06-b2ca-2a29aaa5e845
 */
export type NowCreateInvoiceRes = {
  /**
   * Invoice ID
   */
  id: string;
  /**
   * Internal identifier
   */
  token_id: string;
  /**
   * Order ID specified in request
   */
  order_id?: string | null;
  /**
   * Order description specified in request
   */
  order_description?: string | null;
  /**
   * Base price in fiat
   */
  price_amount: string;
  /**
   * Ticker of base fiat currency
   */
  price_currency: string;
  /**
   * Currency customer will pay with
   */
  pay_currency?: string | null;
  /**
   * Link to IPN notifications endpoint
   */
  ipn_callback_url?: string | null;
  /**
   * Link to the payment page
   */
  invoice_url: string;
  /**
   * Redirect URL for successful payment
   */
  success_url?: string | null;
  /**
   * Redirect URL for failed payment
   */
  cancel_url?: string | null;
  /**
   * Redirect URL for partial payment
   */
  partially_paid_url?: string | null;
  /**
   * Ticker of payout currency
   */
  payout_currency?: string | null;
  /**
   * Time of invoice creation
   */
  created_at: string;
  /**
   * Time of latest invoice update
   */
  updated_at: string;
  /**
   * Fixed Rate option status
   */
  is_fixed_rate: boolean;
  /**
   * Fee Paid By User option status
   */
  is_fee_paid_by_user: boolean;
};

/**
 * Combined payment model across all services
 */
export type Payment = {
  /**
   * Payment ID
   */
  id: string;
  /**
   * Product ID
   */
  product_id: string;
  /**
   * Payment timestamp in seconds
   */
  timestamp: number;
  /**
   * Payment amount
   */
  amount: number;
  /**
   * Payment currency
   */
  currency: string;
  status: PaymentStatus;
  /**
   * Payment provider
   */
  provider: Provider;
  /**
   * Payment market
   */
  market: string;
};

/**
 * Payment status
 */
export type PaymentStatus =
  | "waiting"
  | "processing"
  | "paid"
  | "partially_paid"
  | "refunded"
  | "failed"
  | "cancelled";

/**
 * Model for creating a product
 */
export type ProductCreate = {
  /**
   * Product name
   */
  name: string;
  /**
   * Product price
   */
  price: number;
  /**
   * Scopes that product provides
   */
  scopes?: Array<Scope> | null;
  /**
   * Product duration in days. 0 means unlimited.
   */
  duration: number;
  /**
   * Product description
   */
  description: string;
  /**
   * Product is active
   */
  is_active: boolean;
};

/**
 * Model for reading a product
 */
export type ProductRead = {
  /**
   * Product name
   */
  name: string;
  /**
   * Product price
   */
  price: number;
  /**
   * Scopes that product provides
   */
  scopes?: Array<Scope> | null;
  /**
   * Product duration in days. 0 means unlimited.
   */
  duration: number;
  /**
   * Product description
   */
  description: string;
  /**
   * Product is active
   */
  is_active: boolean;
  /**
   * UID of the product
   */
  id: string;
};

/**
 * Model for reading a product subscription
 */
export type ProductSubRead = {
  /**
   * User ID
   */
  user_id: string;
  /**
   * Product ID
   */
  product_id: string;
  /**
   * Access from timestamp in milliseconds
   */
  access_from: number;
  /**
   * Access until timestamp in milliseconds. 0 means unlimited.
   */
  access_until: number;
  /**
   * UID of the product subscription
   */
  id: string;
};

/**
 * Model for updating a product
 */
export type ProductUpdate = {
  /**
   * Product name
   */
  name?: string | null;
  /**
   * Product price
   */
  price?: number | null;
  /**
   * Scopes that product provides
   */
  scopes?: Array<Scope> | null;
  /**
   * Product duration in days. 0 means unlimited.
   */
  duration?: number | null;
  /**
   * Product description
   */
  description?: string | null;
  /**
   * Product is active
   */
  is_active?: boolean | null;
};

/**
 * Available payment providers
 */
export type Provider = "now";

/**
 * The permission scopes for the API.
 */
export type Scope =
  | "write:admin"
  | "read:admin"
  | "read:predictions"
  | "read:hive:model"
  | "read:hive:data"
  | "write:hive:model"
  | "read:trade:bots"
  | "write:trade:bots"
  | "read:trade:exchangekeys"
  | "write:trade:exchangekeys"
  | "read:trade:orders"
  | "read:trade:actions"
  | "write:trade:actions"
  | "read:trade:exchanges"
  | "read:trade:futures"
  | "write:trade:futures"
  | "read:trade:notifications"
  | "write:trade:notifications"
  | "read:trade:strategies"
  | "write:trade:strategies"
  | "read:pay:payments"
  | "read:pay:products"
  | "write:pay:products"
  | "read:pay:now"
  | "write:pay:now"
  | "read:metrics:marketcap"
  | "read:metrics:indicators"
  | "read:metrics:exchanges"
  | "read:metrics:tokens"
  | "read:metrics:markets"
  | "read:sentiment";

export type PingResponse = string;

export type PingError = ExceptionDetail;

export type GetTimeData = {
  query?: {
    type?: "iso" | "unix";
  };
};

export type GetTimeResponse = string;

export type GetTimeError = ExceptionDetail;

export type GetNowApiStatusResponse = string;

export type GetNowApiStatusError = ExceptionDetail;

export type CreateNowInvoiceData = {
  body: NowCreateInvoiceReq;
};

export type CreateNowInvoiceResponse = NowCreateInvoiceRes;

export type CreateNowInvoiceError = ExceptionDetail;

export type HandleNowWebhookResponse = unknown;

export type HandleNowWebhookError = ExceptionDetail;

export type GetProductsData = {
  query?: {
    /**
     * Limit the number of products returned. 0 means no limit.
     */
    limit?: number;
    /**
     * Offset the number of products returned. 0 means no offset.
     */
    offset?: number;
  };
};

export type GetProductsResponse = Array<ProductRead>;

export type GetProductsError = ExceptionDetail;

export type CreateProductData = {
  body: ProductCreate;
};

export type CreateProductResponse = ProductRead;

export type CreateProductError = ExceptionDetail;

export type UpdateProductData = {
  body: ProductUpdate;
  path: {
    /**
     * The ID of the product to update
     */
    id: string;
  };
};

export type UpdateProductResponse = ProductRead;

export type UpdateProductError = ExceptionDetail;

export type GetLatestPaymentFromInvoiceData = {
  query: {
    /**
     * The invoice ID to get the latest payment from
     */
    invoice_id: string;
  };
};

export type GetLatestPaymentFromInvoiceResponse = Payment;

export type GetLatestPaymentFromInvoiceError = ExceptionDetail;

export type GetPaymentHistoryData = {
  query?: {
    /**
     * Limit the number of payments returned. 0 means no limit.
     */
    limit?: number;
    /**
     * Offset the number of payments returned. 0 means no offset.
     */
    offset?: number;
  };
};

export type GetPaymentHistoryResponse = Array<Payment>;

export type GetPaymentHistoryError = ExceptionDetail;

export type GetSubscriptionsData = {
  query?: {
    /**
     * The user ID to get subscriptions for. Defaults to the authenticated user.
     */
    user_id?: string | null;
  };
};

export type GetSubscriptionsResponse = Array<ProductSubRead>;

export type GetSubscriptionsError = ExceptionDetail;

export type GetLogLevelResponse = LogLevel;

export type GetLogLevelError = ExceptionDetail;

export type GetUptimeData = {
  query?: {
    type?: "seconds" | "human";
  };
};

export type GetUptimeResponse = number | string;

export type GetUptimeError = ExceptionDetail;

export type GetMemoryUsageResponse = number;

export type GetMemoryUsageError = ExceptionDetail;

export type GetThreadsResponse = {
  [key: string]: unknown;
};

export type GetThreadsError = ExceptionDetail;

export type GetContainerLimitsResponse = {
  [key: string]: unknown;
};

export type GetContainerLimitsError = ExceptionDetail;

export type GetDependenciesData = {
  query?: {
    /**
     * List of dependencies to include in the response. If not provided, all installed packages will be returned.
     */
    include?: Array<string>;
  };
};

export type GetDependenciesResponse = Array<unknown>;

export type GetDependenciesError = ExceptionDetail;
