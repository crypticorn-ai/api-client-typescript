// This file is auto-generated by @hey-api/openapi-ts

/**
 * Access scopes
 */
export type AccessScope = 'read:predictions' | 'read:dex:signals';

/**
 * Model for an access threshold for lifetime access
 */
export type AccessThreshold = {
  /**
   * Amount of USD
   */
  usd_amount: number;
  /**
   * Scope that is granted with this threshold
   */
  scope: AccessScope;
};

/**
 * Model for reading a coupon
 */
export type Coupon = {
  /**
   * Timestamp of creation
   */
  created_at: number;
  /**
   * Timestamp of last update
   */
  updated_at: number;
  /**
   * Unique identifier for the resource
   */
  id: string;
  /**
   * Coupon code. If not specified, a random code is generated.
   */
  code?: string;
  /**
   * A name for the coupon, e.g. 'Black Friday 2025'
   */
  name: string;
  /**
   * Discount percentage as a decimal
   */
  discount: number;
  /**
   * Coupon valid until timestamp in seconds. If not specified, the coupon does not expire.
   */
  valid_until?: number | null;
  /**
   * Coupon valid from timestamp in seconds. If not specified, the coupon is valid from the current time.
   */
  valid_from?: number;
  /**
   * Coupon usage limit. If not specified, the coupon can be used unlimited times.
   */
  usage_limit?: number | null;
  /**
   * Products that the coupon can be used on. If not specified, the coupon can be used on all products.
   */
  products?: Array<string> | null;
  /**
   * Coupon is active
   */
  is_active?: boolean;
  /**
   * Coupon usage count
   */
  usage_count: number;
  /**
   * Whether the coupon requires a payment. If the discount is not 100%, the coupon requires a payment.
   */
  readonly payment_required: boolean;
  /**
   * Coupon is valid if it is active, not expired, and has not reached the usage limit
   */
  readonly is_valid: boolean;
};

/**
 * Model for creating a coupon
 */
export type CouponCreate = {
  /**
   * Coupon code. If not specified, a random code is generated.
   */
  code?: string;
  /**
   * A name for the coupon, e.g. 'Black Friday 2025'
   */
  name: string;
  /**
   * Discount percentage as a decimal
   */
  discount: number;
  /**
   * Coupon valid until timestamp in seconds. If not specified, the coupon does not expire.
   */
  valid_until?: number | null;
  /**
   * Coupon valid from timestamp in seconds. If not specified, the coupon is valid from the current time.
   */
  valid_from?: number;
  /**
   * Coupon usage limit. If not specified, the coupon can be used unlimited times.
   */
  usage_limit?: number | null;
  /**
   * Products that the coupon can be used on. If not specified, the coupon can be used on all products.
   */
  products?: Array<string> | null;
  /**
   * Coupon is active
   */
  is_active?: boolean;
};

/**
 * Model for updating a coupon
 */
export type CouponUpdate = {
  /**
   * Coupon valid until timestamp in seconds. If not specified, the valid until is not changed.
   */
  valid_until?: number | null;
  /**
   * Coupon usage limit. If not specified, the usage limit is not changed.
   */
  usage_limit?: number | null;
  /**
   * Products that the coupon can be used on. If empty, the products are not changed.
   */
  products?: Array<string> | null;
  /**
   * Coupon name. If not specified, the name is not changed.
   */
  name?: string | null;
};

/**
 * Error response schema.
 */
export type ErrorResponse = {
  detail: string;
};

/**
 * Model for reading an invoice
 */
export type Invoice = {
  /**
   * Timestamp of creation
   */
  created_at: number;
  /**
   * Timestamp of last update
   */
  updated_at: number;
  /**
   * Unique identifier for the resource
   */
  id: string;
  /**
   * The ID of the product
   */
  product_id: string;
  /**
   * The ID of the coupon
   */
  coupon_id?: string | null;
  /**
   * The provider the invoice is created with
   */
  provider: 'now' | 'staking' | 'stripe';
  /**
   * The address of the user. Only used for staking invoices.
   */
  address?: string | null;
  /**
   * The oob code for the invoice. Only used for signup invoices.
   */
  oob?: string | null;
  /**
   * The ID of the user
   */
  user_id: string;
  /**
   * The amount of the invoice in USD
   */
  usd_amount: number;
  /**
   * Invoice URL. If None, no external payment is required.
   */
  url?: string | null;
};

/**
 * The provider the invoice is created with
 */
export type provider = 'now' | 'staking' | 'stripe';

/**
 * Model for creating an invoice
 */
export type InvoiceCreate = {
  /**
   * The ID of the product
   */
  product_id: string;
  /**
   * The ID of the coupon
   */
  coupon_id?: string | null;
  /**
   * The provider the invoice is created with
   */
  provider: 'now' | 'staking' | 'stripe';
  /**
   * The address of the user. Only used for staking invoices.
   */
  address?: string | null;
  /**
   * The oob code for the invoice. Only used for signup invoices.
   */
  oob?: string | null;
  /**
   * The ID of the user. Overrides the authenticated user if provided and the user is an admin.
   */
  user_id?: string | null;
};

export type PaginatedResponse_Coupon_ = {
  data: Array<Coupon>;
  /**
   * The total number of items
   */
  total: number;
  /**
   * The current page number
   */
  page: number;
  /**
   * The number of items per page
   */
  page_size: number;
  /**
   * The previous page number
   */
  prev?: number | null;
  /**
   * The next page number
   */
  next?: number | null;
  /**
   * The last page number
   */
  last?: number | null;
};

export type PaginatedResponse_Payment_ = {
  data: Array<Payment>;
  /**
   * The total number of items
   */
  total: number;
  /**
   * The current page number
   */
  page: number;
  /**
   * The number of items per page
   */
  page_size: number;
  /**
   * The previous page number
   */
  prev?: number | null;
  /**
   * The next page number
   */
  next?: number | null;
  /**
   * The last page number
   */
  last?: number | null;
};

/**
 * Combined payment model across all services
 */
export type Payment = {
  /**
   * Payment ID
   */
  id: string;
  /**
   * Product purchased
   */
  product_id: string;
  /**
   * Coupon used for the payment
   */
  coupon_id?: string | null;
  /**
   * User ID the payment is for
   */
  user_id: string;
  /**
   * Invoice ID
   */
  invoice_id: string;
  /**
   * Payment amount
   */
  amount: number;
  /**
   * Payment currency
   */
  currency: string;
  /**
   * Payment status
   */
  status:
    | 'waiting'
    | 'processing'
    | 'paid'
    | 'partially_paid'
    | 'refunded'
    | 'failed'
    | 'cancelled';
  /**
   * Payment provider
   */
  provider: 'now' | 'staking' | 'stripe';
  /**
   * Payment market
   */
  market: 'crypto' | 'fiat';
  /**
   * Payment updated at timestamp in seconds
   */
  updated_at: number;
  /**
   * Payment created at timestamp in seconds
   */
  created_at: number;
  /**
   * Payment details specific to the provider
   */
  details?: {
    [key: string]: unknown;
  };
};

/**
 * Payment status
 */
export type status =
  | 'waiting'
  | 'processing'
  | 'paid'
  | 'partially_paid'
  | 'refunded'
  | 'failed'
  | 'cancelled';

/**
 * Payment market
 */
export type market = 'crypto' | 'fiat';

/**
 * Model for reading a product
 */
export type Product = {
  /**
   * Timestamp of creation
   */
  created_at: number;
  /**
   * Timestamp of last update
   */
  updated_at: number;
  /**
   * Unique identifier for the resource
   */
  id: string;
  /**
   * Product name
   */
  name: string;
  /**
   * Product price
   */
  price: number;
  /**
   * Scopes that product provides
   */
  scopes: Array<AccessScope>;
  /**
   * Product duration in days. 0 means forever.
   */
  duration: number;
  /**
   * Product description
   */
  description: string;
  /**
   * Product is active
   */
  is_active: boolean;
  /**
   * Product images as hosted URLs
   */
  images?: Array<string> | null;
  /**
   * Original product price. This is the price before the coupon is applied. None if no coupon is applied.
   */
  original_price?: number | null;
};

/**
 * Model for creating a product
 */
export type ProductCreate = {
  /**
   * Product name
   */
  name: string;
  /**
   * Product price
   */
  price: number;
  /**
   * Scopes that product provides
   */
  scopes: Array<AccessScope>;
  /**
   * Product duration in days. 0 means forever.
   */
  duration: number;
  /**
   * Product description
   */
  description: string;
  /**
   * Product is active
   */
  is_active: boolean;
  /**
   * Product images as hosted URLs
   */
  images?: Array<string> | null;
};

/**
 * Model for updating a product
 */
export type ProductUpdate = {
  /**
   * Product name
   */
  name?: string | null;
  /**
   * Product price
   */
  price?: number | null;
  /**
   * Scopes that product provides
   */
  scopes?: Array<AccessScope> | null;
  /**
   * Product duration in days. 0 means forever.
   */
  duration?: number | null;
  /**
   * Product description
   */
  description?: string | null;
  /**
   * Product is active
   */
  is_active?: boolean | null;
  /**
   * Product images as hosted URLs
   */
  images?: Array<string> | null;
};

/**
 * Model for detailed scope access info for a user, for each access method.
 */
export type ScopeInfo = {
  /**
   * The scope affected
   */
  scope: AccessScope;
  /**
   * Expiry timestamp in seconds, or None if not applicable (e.g. balance-based)
   */
  expires_at?: number | null;
  /**
   * Whether the scope has expired or not
   */
  has_expired: boolean;
  /**
   * Reason for access (allowlist, subscription, balance, etc.)
   */
  reason: 'allowlist' | 'subscription' | 'balance';
};

/**
 * Reason for access (allowlist, subscription, balance, etc.)
 */
export type reason = 'allowlist' | 'subscription' | 'balance';

/**
 * Model containing all scopes the user has access to, and detailed info for each access method (allowlist, subscription, balance).
 */
export type ScopesInfo = {
  /**
   * List of scopes
   */
  scopes: Array<AccessScope>;
  /**
   * List of scope access info. Contains one entry for each scope, for each access method (allowlist, subscription, balance) if the user has (or had in the last 7 days) access to the scope.
   */
  info: Array<ScopeInfo>;
};

/**
 * Details of a staking pool
 */
export type StakeDetails = {
  /**
   * The ID of the staking pool.
   */
  pool_id: 1 | 2 | 3 | 4;
  /**
   * The base reward amount accumulated so far, in wei (1 ETH = 1e18 wei).
   */
  reward_base: string;
  /**
   * The amount currently staked by the user, in wei.
   */
  current_stake: string;
  /**
   * The Unix timestamp (in seconds) when the stake was created.
   */
  start_time: string;
  /**
   * The duration the stake is locked for, in seconds (e.g., 5184000 = 60 days).
   */
  lock_period: string;
  /**
   * The annual percentage yield (APY), represented in wei format (e.g., 1e18 = 100%).
   */
  apy: string;
  /**
   * The reward currently available to claim, in wei.
   */
  pending_reward: string;
  /**
   * The amount currently pending to withdraw, in wei.
   */
  pending_withdrawal: string;
};

/**
 * The ID of the staking pool.
 */
export type pool_id = 1 | 2 | 3 | 4;

/**
 * Model for reading a product subscription
 */
export type Subscription = {
  /**
   * Timestamp of creation
   */
  created_at: number;
  /**
   * Timestamp of last update
   */
  updated_at: number;
  /**
   * Unique identifier for the resource
   */
  id: string;
  /**
   * User ID
   */
  user_id: string;
  /**
   * Product ID
   */
  product_id: string;
  /**
   * Access from timestamp in seconds
   */
  access_from: number;
  /**
   * Access until timestamp in seconds.
   */
  access_until: number;
};

/**
 * Model for a user's total balance
 */
export type TotalBalance = {
  /**
   * Total staked balance in wei of AIC
   */
  staked: string;
  /**
   * Total balance in wei of AIC
   */
  balance: string;
  /**
   * Total reward base in wei of AIC
   */
  reward_base: string;
  /**
   * Total pending reward in wei of AIC
   */
  pending_reward: string;
  /**
   * Total pending withdrawal in wei of AIC
   */
  pending_withdrawal: string;
  /**
   * The average APY on the staked balance calculated from the pool balances and their APYs. 1e18 = 100%
   */
  average_apy: string;
};

/**
 * Model for a user's balance
 */
export type UserBalance = {
  /**
   * List of wallet balances
   */
  wallets: Array<WalletBalance>;
  /**
   * Timestamp of last update
   */
  updated_at: number;
  /**
   * Combined balance information computed from the wallet balances
   */
  readonly total: TotalBalance;
  /**
   * List of pool balances computed from the wallet balances
   */
  readonly pools: Array<StakeDetails>;
};

/**
 * Model for a user's balance for a specific wallet
 */
export type WalletBalance = {
  /**
   * Wallet address
   */
  address: string;
  /**
   * Balance in wei of AIC
   */
  balance: string;
  /**
   * List of stake details for each pool
   */
  staked: Array<StakeDetails>;
};

export type GetProductsCaptchaAuthData = {
  query?: {
    /**
     * The captcha token to verify the request.
     */
    captcha_token?: string;
    /**
     * The coupon code to apply to the products.
     */
    coupon?: string | null;
  };
};

export type GetProductsCaptchaAuthResponse = Array<Product>;

export type GetProductsCaptchaAuthError = ErrorResponse;

export type GetProductsData = {
  query?: {
    /**
     * The coupon code to apply to the products.
     */
    coupon?: string | null;
    /**
     * The field to filter by
     */
    filter_by?: string | null;
    /**
     * The value to filter with
     */
    filter_value?: string | null;
    /**
     * The field to sort by
     */
    sort_by?: string | null;
    /**
     * The order to sort by
     */
    sort_order?: 'asc' | 'desc' | null;
  };
};

export type GetProductsResponse = Array<Product>;

export type GetProductsError = ErrorResponse;

export type CreateProductData = {
  body: ProductCreate;
};

export type CreateProductResponse = Product;

export type CreateProductError = ErrorResponse;

export type GetProductUsageResponse = Array<[string, number]>;

export type GetProductUsageError = ErrorResponse;

export type UpdateProductData = {
  body: ProductUpdate;
  path: {
    /**
     * The ID of the product to update
     */
    id: string;
  };
};

export type UpdateProductResponse = Product;

export type UpdateProductError = ErrorResponse;

export type GetPaymentHistoryData = {
  query?: {
    /**
     * The field to filter by
     */
    filter_by?: string | null;
    /**
     * The value to filter with
     */
    filter_value?: string | null;
    /**
     * The current page number
     */
    page?: number;
    /**
     * The number of items per page. Default is 10, max is 100.
     */
    page_size?: number;
    /**
     * The field to sort by
     */
    sort_by?: string | null;
    /**
     * The order to sort by
     */
    sort_order?: 'asc' | 'desc' | null;
    /**
     * The ID of the user. Overrides the authenticated user if provided and the user is an admin.
     */
    user_id?: string | null;
  };
};

export type GetPaymentHistoryResponse = PaginatedResponse_Payment_;

export type GetPaymentHistoryError = ErrorResponse;

export type GetSubscriptionsData = {
  query?: {
    /**
     * The state of the subscriptions to get. Defaults to all states.
     */
    state?: 'active' | 'inactive' | 'both';
    /**
     * The ID of the user to get subscriptions for. Overrides the authenticated user if provided and the user is an admin.
     */
    user_id?: string | null;
  };
};

export type GetSubscriptionsResponse = Array<Subscription>;

export type GetSubscriptionsError = ErrorResponse;

export type GetPaymentsByInvoiceData = {
  path: {
    /**
     * The invoice ID
     */
    id: string;
  };
};

export type GetPaymentsByInvoiceResponse = Array<Payment>;

export type GetPaymentsByInvoiceError = ErrorResponse;

export type GetCouponByCodeCaptchaAuthData = {
  query: {
    captcha_token: string;
    /**
     * The coupon code to get
     */
    code: string;
  };
};

export type GetCouponByCodeCaptchaAuthResponse = Coupon;

export type GetCouponByCodeCaptchaAuthError = ErrorResponse;

export type GetCouponByCodeData = {
  query: {
    /**
     * The coupon code to get
     */
    code: string;
  };
};

export type GetCouponByCodeResponse = Coupon;

export type GetCouponByCodeError = ErrorResponse;

export type GetCouponsData = {
  query?: {
    /**
     * The field to filter by
     */
    filter_by?: string | null;
    /**
     * The value to filter with
     */
    filter_value?: string | null;
    /**
     * The current page number
     */
    page?: number;
    /**
     * The number of items per page. Default is 10, max is 100.
     */
    page_size?: number;
    /**
     * The field to sort by
     */
    sort_by?: string | null;
    /**
     * The order to sort by
     */
    sort_order?: 'asc' | 'desc' | null;
  };
};

export type GetCouponsResponse = PaginatedResponse_Coupon_;

export type GetCouponsError = ErrorResponse;

export type CreateCouponData = {
  body: CouponCreate;
};

export type CreateCouponResponse = Coupon;

export type CreateCouponError = ErrorResponse;

export type UpdateCouponData = {
  body: CouponUpdate;
  path: {
    /**
     * The coupon to update
     */
    id: string;
  };
};

export type UpdateCouponResponse = Coupon;

export type UpdateCouponError = ErrorResponse;

export type DeactivateCouponData = {
  path: {
    /**
     * The coupon to deactivate
     */
    id: string;
  };
};

export type DeactivateCouponResponse = void;

export type DeactivateCouponError = ErrorResponse;

export type GetNowApiStatusResponse = string;

export type GetNowApiStatusError = ErrorResponse;

export type HandleNowWebhookResponse = unknown;

export type HandleNowWebhookError = ErrorResponse;

export type CreateInvoiceData = {
  body: InvoiceCreate;
};

export type CreateInvoiceResponse = Invoice;

export type CreateInvoiceError = ErrorResponse;

export type GetInvoiceData = {
  path: {
    /**
     * The invoice ID
     */
    id: string;
  };
};

export type GetInvoiceResponse = Invoice;

export type GetInvoiceError = ErrorResponse;

export type StripeWebhookStripeWebhookPostResponse = unknown;

export type StripeWebhookStripeWebhookPostError = ErrorResponse;

export type GetAicPriceData = {
  query?: {
    /**
     * Force live fetch and update cache.
     */
    force?: boolean;
  };
};

export type GetAicPriceResponse = number;

export type GetAicPriceError = ErrorResponse;

export type GetBalancesData = {
  query?: {
    /**
     * Force live fetch and update cache.
     */
    force?: boolean;
    /**
     * User ID to check balance for. Overrides the authenticated user if provided and the user is an admin.
     */
    user_id?: string | null;
  };
};

export type GetBalancesResponse = UserBalance;

export type GetBalancesError = ErrorResponse;

export type GetBalances1Data = {
  query?: {
    /**
     * Force live fetch and update cache.
     */
    force?: boolean;
    /**
     * Wallet address to check balance for. Overrides the authenticated user if provided and the user is an admin.
     */
    user_id?: string | null;
  };
};

export type GetBalances1Response = UserBalance;

export type GetBalances1Error = ErrorResponse;

export type GetScopesInfoData = {
  query: {
    /**
     * Force live fetch and update cache.
     */
    force?: boolean;
    /**
     * User ID to get scopes for
     */
    user_id: string;
  };
};

export type GetScopesInfoResponse = ScopesInfo;

export type GetScopesInfoError = ErrorResponse;

export type GetThresholdsResponse = Array<AccessThreshold>;

export type GetThresholdsError = ErrorResponse;

export type PingResponse = string;

export type PingError = ErrorResponse;

export type GetMetricsResponse = unknown;

export type GetMetricsError = ErrorResponse;
