// This file is auto-generated by @hey-api/openapi-ts

/**
 * Unique identifier of the API error.
 */
export type ApiErrorIdentifier =
  | "allocation_below_current_exposure"
  | "allocation_below_min_amount"
  | "allocation_limit_exceeded"
  | "black_swan"
  | "bot_already_deleted"
  | "bot_stopping_completed"
  | "bot_stopping_started"
  | "cancelled_open_order"
  | "client_order_id_already_exists"
  | "invalid_content_type"
  | "coupon_invalid"
  | "delete_bot_error"
  | "exchange_http_request_error"
  | "exchange_invalid_parameter"
  | "exchange_invalid_signature"
  | "exchange_invalid_timestamp"
  | "exchange_ip_address_is_not_authorized"
  | "exchange_key_already_exists"
  | "exchange_key_in_use"
  | "exchange_system_under_maintenance"
  | "exchange_rate_limit_exceeded"
  | "insufficient_permissions_spot_and_futures_required"
  | "exchange_service_temporarily_unavailable"
  | "exchange_system_is_busy"
  | "exchange_system_configuration_error"
  | "exchange_internal_system_error"
  | "exchange_user_account_is_frozen"
  | "api_key_expired"
  | "bearer_token_expired"
  | "failed_open_order"
  | "forbidden"
  | "hedge_mode_not_active"
  | "insufficient_balance"
  | "insufficient_margin"
  | "insufficient_scopes"
  | "invalid_api_key"
  | "invalid_basic_auth"
  | "invalid_bearer"
  | "invalid_data"
  | "invalid_data_response"
  | "invalid_exchange_key"
  | "invalid_model_name"
  | "leverage_limit_exceeded"
  | "order_violates_liquidation_price_constraints"
  | "margin_mode_clash"
  | "name_not_unique"
  | "no_credentials"
  | "now_api_down"
  | "object_already_exists"
  | "object_created"
  | "object_deleted"
  | "object_locked"
  | "object_not_found"
  | "object_updated"
  | "order_is_already_filled"
  | "order_is_being_processed"
  | "order_quantity_limit_exceeded"
  | "order_does_not_exist"
  | "order_price_is_invalid"
  | "order_size_too_large"
  | "order_size_too_small"
  | "orphan_open_order"
  | "orphan_close_order"
  | "position_limit_exceeded"
  | "position_does_not_exist"
  | "position_opening_temporarily_suspended"
  | "post_only_order_would_immediately_match"
  | "request_scope_limit_exceeded"
  | "risk_limit_exceeded"
  | "rpc_timeout"
  | "system_settlement_in_process"
  | "strategy_disabled"
  | "strategy_leverage_mismatch"
  | "strategy_not_supporting_exchange"
  | "success"
  | "symbol_does_not_exist"
  | "trading_action_expired"
  | "trading_action_skipped_bot_stopping"
  | "trading_has_been_locked"
  | "trading_is_suspended"
  | "unknown_error_occurred"
  | "requested_resource_not_found";

/**
 * Level of the API error.
 */
export type ApiErrorLevel = "error" | "info" | "success" | "warning";

/**
 * Type of the API error.
 */
export type ApiErrorType =
  | "user error"
  | "exchange error"
  | "server error"
  | "no error";

/**
 * Model for reading a coupon
 */
export type Coupon = {
  /**
   * UID of the model
   */
  id: string;
  /**
   * Timestamp of creation
   */
  created_at: number;
  /**
   * Timestamp of last update
   */
  updated_at: number;
  /**
   * Coupon code. If not specified, a random code is generated.
   */
  code: string | null;
  /**
   * A name for the coupon, e.g. 'Black Friday 2025'
   */
  name: string;
  /**
   * Discount percentage as a decimal
   */
  discount: number;
  /**
   * Coupon valid until timestamp in seconds. If not specified, the coupon is valid for 100 years.
   */
  valid_until: number | null;
  /**
   * Coupon valid from timestamp in seconds. If not specified, the coupon is valid from the current time.
   */
  valid_from: number | null;
  /**
   * Coupon usage limit. If not specified, the coupon can be used unlimited times.
   */
  usage_limit: number | null;
  /**
   * Products that the coupon can be used on. If not specified, the coupon can be used on all products.
   */
  products: Array<string> | null;
  /**
   * Coupon is active
   */
  is_active: boolean;
  /**
   * Coupon usage count
   */
  usage_count: number;
  /**
   * Whether the coupon requires a payment. If the discount is not 100%, the coupon requires a payment.
   */
  readonly payment_required: boolean;
  /**
   * Coupon is valid if it is active, not expired, and has not reached the usage limit
   */
  readonly is_valid: boolean;
};

/**
 * Model for creating a coupon
 */
export type CouponCreate = {
  /**
   * Coupon code. If not specified, a random code is generated.
   */
  code?: string | null;
  /**
   * A name for the coupon, e.g. 'Black Friday 2025'
   */
  name: string;
  /**
   * Discount percentage as a decimal
   */
  discount: number;
  /**
   * Coupon valid until timestamp in seconds. If not specified, the coupon is valid for 100 years.
   */
  valid_until?: number | null;
  /**
   * Coupon valid from timestamp in seconds. If not specified, the coupon is valid from the current time.
   */
  valid_from?: number | null;
  /**
   * Coupon usage limit. If not specified, the coupon can be used unlimited times.
   */
  usage_limit?: number | null;
  /**
   * Products that the coupon can be used on. If not specified, the coupon can be used on all products.
   */
  products?: Array<string> | null;
  /**
   * Coupon is active
   */
  is_active?: boolean;
};

/**
 * Model for updating a coupon
 */
export type CouponUpdate = {
  /**
   * Coupon valid until timestamp in seconds. If not specified, the valid until is not changed.
   */
  valid_until?: number | null;
  /**
   * Coupon usage limit. If not specified, the usage limit is not changed.
   */
  usage_limit?: number | null;
  /**
   * Products that the coupon can be used on. If empty, the products are not changed.
   */
  products?: Array<string> | null;
  /**
   * Coupon name. If not specified, the name is not changed.
   */
  name?: string | null;
};

/**
 * Exception details returned to the client.
 */
export type ExceptionDetail = {
  /**
   * An additional error message
   */
  message?: string | null;
  /**
   * The unique error code
   */
  code: ApiErrorIdentifier;
  /**
   * The type of error
   */
  type: ApiErrorType;
  /**
   * The level of the error
   */
  level: ApiErrorLevel;
  /**
   * The HTTP status code
   */
  status_code: number;
  /**
   * Additional details about the error
   */
  details?: unknown;
};

/**
 * Model for creating an invoice
 */
export type InvoiceCreate = {
  /**
   * The ID of the user. Overrides the authenticated user if provided and the user is an admin.
   */
  user_id?: string | null;
  /**
   * The ID of the product
   */
  product_id: string;
  /**
   * The ID of the coupon
   */
  coupon_id?: string | null;
  /**
   * The provider the invoice is created with
   */
  provider: Provider;
  /**
   * The address of the user. Only used for staking invoices.
   */
  address?: string | null;
  /**
   * The oob code for the invoice. Only used for signup invoices.
   */
  oob?: string | null;
};

/**
 * Combined invoice model across all services
 */
export type InvoiceInfo = {
  /**
   * Invoice ID
   */
  id: string;
  /**
   * Payment provider
   */
  provider: Provider;
  /**
   * Invoice URL. If None, no external payment is required.
   */
  url?: string | null;
};

export type PaginatedResponse_Coupon_ = {
  data: Array<Coupon>;
  /**
   * The total number of items
   */
  total: number;
  /**
   * The current page number
   */
  page: number;
  /**
   * The number of items per page
   */
  page_size: number;
  /**
   * The previous page number
   */
  prev?: number | null;
  /**
   * The next page number
   */
  next?: number | null;
  /**
   * The last page number
   */
  last?: number | null;
};

export type PaginatedResponse_Payment_ = {
  data: Array<Payment>;
  /**
   * The total number of items
   */
  total: number;
  /**
   * The current page number
   */
  page: number;
  /**
   * The number of items per page
   */
  page_size: number;
  /**
   * The previous page number
   */
  prev?: number | null;
  /**
   * The next page number
   */
  next?: number | null;
  /**
   * The last page number
   */
  last?: number | null;
};

/**
 * Combined payment model across all services
 */
export type Payment = {
  /**
   * Payment ID
   */
  id: string;
  /**
   * Product purchased
   */
  product_id: string;
  /**
   * Coupon used for the payment
   */
  coupon_id?: string | null;
  /**
   * User ID the payment is for
   */
  user_id: string;
  /**
   * Invoice ID
   */
  invoice_id: string;
  /**
   * Payment timestamp in seconds. Deprecated, use updated_at instead.
   * @deprecated
   */
  timestamp: number;
  /**
   * Payment amount
   */
  amount: number;
  /**
   * Payment currency
   */
  currency: string;
  status: PaymentStatus;
  /**
   * Payment provider
   */
  provider: Provider;
  /**
   * Payment market
   */
  market: string;
  /**
   * Payment updated at timestamp in seconds
   */
  updated_at: number;
  /**
   * Payment created at timestamp in seconds
   */
  created_at: number;
  /**
   * Payment details specific to the provider
   */
  details?: {
    [key: string]: unknown;
  };
};

/**
 * Payment status
 */
export type PaymentStatus =
  | "waiting"
  | "processing"
  | "paid"
  | "partially_paid"
  | "refunded"
  | "failed"
  | "cancelled";

/**
 * Model for reading a product
 */
export type Product = {
  /**
   * UID of the model
   */
  id: string;
  /**
   * Timestamp of creation
   */
  created_at: number;
  /**
   * Timestamp of last update
   */
  updated_at: number;
  /**
   * Product name
   */
  name: string;
  /**
   * Product price
   */
  price: number;
  /**
   * Scopes that product provides
   */
  scopes: Array<Scope> | null;
  /**
   * Product duration in days. 0 means forever.
   */
  duration: number;
  /**
   * Product description
   */
  description: string;
  /**
   * Product is active
   */
  is_active: boolean;
  /**
   * Product images as hosted URLs
   */
  images: Array<string> | null;
  /**
   * Original product price. This is the price before the coupon is applied. None if no coupon is applied.
   */
  original_price: number | null;
};

/**
 * Model for creating a product
 */
export type ProductCreate = {
  /**
   * Product name
   */
  name: string;
  /**
   * Product price
   */
  price: number;
  /**
   * Scopes that product provides
   */
  scopes?: Array<Scope> | null;
  /**
   * Product duration in days. 0 means forever.
   */
  duration: number;
  /**
   * Product description
   */
  description: string;
  /**
   * Product is active
   */
  is_active: boolean;
  /**
   * Product images as hosted URLs
   */
  images?: Array<string> | null;
};

/**
 * Model for updating a product
 */
export type ProductUpdate = {
  /**
   * Product name
   */
  name?: string | null;
  /**
   * Product price
   */
  price?: number | null;
  /**
   * Scopes that product provides
   */
  scopes?: Array<Scope> | null;
  /**
   * Product duration in days. 0 means forever.
   */
  duration?: number | null;
  /**
   * Product description
   */
  description?: string | null;
  /**
   * Product is active
   */
  is_active?: boolean | null;
  /**
   * Product images as hosted URLs
   */
  images?: Array<string> | null;
};

/**
 * Available payment providers
 */
export type Provider = "now" | "staking" | "stripe";

/**
 * The permission scopes for the API.
 */
export type Scope =
  | "write:admin"
  | "read:admin"
  | "read:predictions"
  | "read:dex:signals"
  | "read:hive:model"
  | "read:hive:data"
  | "write:hive:model"
  | "read:trade:bots"
  | "write:trade:bots"
  | "read:trade:exchangekeys"
  | "write:trade:exchangekeys"
  | "read:trade:orders"
  | "read:trade:actions"
  | "write:trade:actions"
  | "read:trade:exchanges"
  | "read:trade:futures"
  | "write:trade:futures"
  | "read:trade:notifications"
  | "write:trade:notifications"
  | "read:trade:strategies"
  | "write:trade:strategies"
  | "read:pay:payments"
  | "read:pay:products"
  | "write:pay:products"
  | "read:pay:now"
  | "write:pay:now"
  | "write:pay:coupons"
  | "read:pay:coupons"
  | "read:metrics:marketcap"
  | "read:metrics:indicators"
  | "read:metrics:exchanges"
  | "read:metrics:tokens"
  | "read:metrics:markets"
  | "read:sentiment"
  | "read:klines";

/**
 * Model for reading a product subscription
 */
export type Subscription = {
  /**
   * UID of the model
   */
  id: string;
  /**
   * Timestamp of creation
   */
  created_at: number;
  /**
   * Timestamp of last update
   */
  updated_at: number;
  /**
   * User ID
   */
  user_id: string;
  /**
   * Product ID
   */
  product_id: string;
  /**
   * Access from timestamp in seconds
   */
  access_from: number;
  /**
   * Access until timestamp in seconds. 0 means unlimited.
   */
  access_until: number;
};

export type GetProductsCaptchaAuthData = {
  query?: {
    /**
     * The captcha token to verify the request.
     */
    captcha_token?: string;
    /**
     * The coupon code to apply to the products.
     */
    coupon?: string | null;
  };
};

export type GetProductsCaptchaAuthResponse = Array<Product>;

export type GetProductsCaptchaAuthError = ExceptionDetail;

export type GetProductsData = {
  query?: {
    /**
     * The coupon code to apply to the products.
     */
    coupon?: string | null;
    /**
     * The field to filter by
     */
    filter_by?: string | null;
    /**
     * The value to filter with
     */
    filter_value?: string | null;
    /**
     * The field to sort by
     */
    sort_by?: string | null;
    /**
     * The order to sort by
     */
    sort_order?: "asc" | "desc" | null;
  };
};

export type GetProductsResponse = Array<Product>;

export type GetProductsError = ExceptionDetail;

export type CreateProductData = {
  body: ProductCreate;
};

export type CreateProductResponse = Product;

export type CreateProductError = ExceptionDetail;

export type GetProductUsageResponse = Array<[string, number]>;

export type GetProductUsageError = ExceptionDetail;

export type UpdateProductData = {
  body: ProductUpdate;
  path: {
    /**
     * The ID of the product to update
     */
    id: string;
  };
};

export type UpdateProductResponse = Product;

export type UpdateProductError = ExceptionDetail;

export type GetPaymentHistoryData = {
  query?: {
    /**
     * The field to filter by
     */
    filter_by?: string | null;
    /**
     * The value to filter with
     */
    filter_value?: string | null;
    /**
     * The current page number
     */
    page?: number | null;
    /**
     * The number of items per page. Default is 10, max is 100.
     */
    page_size?: number;
    /**
     * The field to sort by
     */
    sort_by?: string | null;
    /**
     * The order to sort by
     */
    sort_order?: "asc" | "desc" | null;
    /**
     * The ID of the user. Overrides the authenticated user if provided and the user is an admin.
     */
    user_id?: string | null;
  };
};

export type GetPaymentHistoryResponse = PaginatedResponse_Payment_;

export type GetPaymentHistoryError = ExceptionDetail;

export type GetSubscriptionsData = {
  query?: {
    /**
     * The state of the subscriptions to get. Defaults to all states.
     */
    state?: "active" | "inactive" | "both";
    /**
     * The ID of the user to get subscriptions for. Overrides the authenticated user if provided and the user is an admin.
     */
    user_id?: string | null;
  };
};

export type GetSubscriptionsResponse = Array<Subscription>;

export type GetSubscriptionsError = ExceptionDetail;

export type GetPaymentsByInvoiceData = {
  path: {
    /**
     * The invoice ID
     */
    id: string;
  };
};

export type GetPaymentsByInvoiceResponse = Array<Payment>;

export type GetPaymentsByInvoiceError = ExceptionDetail;

export type GetCouponByCodeCaptchaAuthData = {
  query: {
    captcha_token: string;
    /**
     * The coupon code to get
     */
    code: string;
  };
};

export type GetCouponByCodeCaptchaAuthResponse = Coupon;

export type GetCouponByCodeCaptchaAuthError = ExceptionDetail;

export type GetCouponByCodeData = {
  query: {
    /**
     * The coupon code to get
     */
    code: string;
  };
};

export type GetCouponByCodeResponse = Coupon;

export type GetCouponByCodeError = ExceptionDetail;

export type GetCouponsData = {
  query?: {
    /**
     * The field to filter by
     */
    filter_by?: string | null;
    /**
     * The value to filter with
     */
    filter_value?: string | null;
    /**
     * The current page number
     */
    page?: number | null;
    /**
     * The number of items per page. Default is 10, max is 100.
     */
    page_size?: number;
    /**
     * The field to sort by
     */
    sort_by?: string | null;
    /**
     * The order to sort by
     */
    sort_order?: "asc" | "desc" | null;
  };
};

export type GetCouponsResponse = PaginatedResponse_Coupon_;

export type GetCouponsError = ExceptionDetail;

export type CreateCouponData = {
  body: CouponCreate;
};

export type CreateCouponResponse = Coupon;

export type CreateCouponError = ExceptionDetail;

export type UpdateCouponData = {
  body: CouponUpdate;
  path: {
    /**
     * The coupon to update
     */
    id: string;
  };
};

export type UpdateCouponResponse = Coupon;

export type UpdateCouponError = ExceptionDetail;

export type DeactivateCouponData = {
  path: {
    /**
     * The coupon to deactivate
     */
    id: string;
  };
};

export type DeactivateCouponResponse = void;

export type DeactivateCouponError = ExceptionDetail;

export type GetNowApiStatusResponse = string;

export type GetNowApiStatusError = ExceptionDetail;

export type HandleNowWebhookResponse = unknown;

export type HandleNowWebhookError = ExceptionDetail;

export type CreateInvoiceData = {
  body: InvoiceCreate;
};

export type CreateInvoiceResponse = InvoiceInfo;

export type CreateInvoiceError = ExceptionDetail;

export type StripeWebhookStripeWebhookPostResponse = unknown;

export type StripeWebhookStripeWebhookPostError = ExceptionDetail;

export type PingResponse = string;

export type PingError = ExceptionDetail;

export type GetMetricsResponse = unknown;

export type GetMetricsError = ExceptionDetail;
