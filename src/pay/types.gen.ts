// This file is auto-generated by @hey-api/openapi-ts

/**
 * Unique identifier of the API error.
 */
export type ApiErrorIdentifier =
  | "allocation_below_current_exposure"
  | "allocation_below_min_amount"
  | "black_swan"
  | "bot_already_deleted"
  | "bot_disabled"
  | "bot_stopping_completed"
  | "bot_stopping_started"
  | "cancelled_open_order"
  | "client_order_id_already_exists"
  | "invalid_content_type"
  | "delete_bot_error"
  | "exchange_invalid_signature"
  | "exchange_invalid_timestamp"
  | "exchange_ip_address_is_not_authorized"
  | "exchange_key_already_exists"
  | "exchange_key_in_use"
  | "exchange_system_under_maintenance"
  | "exchange_rate_limit_exceeded"
  | "insufficient_permissions_spot_and_futures_required"
  | "exchange_service_temporarily_unavailable"
  | "exchange_system_is_busy"
  | "exchange_system_configuration_error"
  | "exchange_internal_system_error"
  | "exchange_user_account_is_frozen"
  | "api_key_expired"
  | "bearer_token_expired"
  | "open_order_expired"
  | "forbidden"
  | "hedge_mode_not_active"
  | "http_request_error"
  | "insufficient_balance"
  | "insufficient_margin"
  | "insufficient_scopes"
  | "invalid_api_key"
  | "invalid_bearer"
  | "invalid_data"
  | "invalid_data_response"
  | "invalid_exchange_key"
  | "invalid_margin_mode"
  | "invalid_model_name"
  | "invalid_parameter_provided"
  | "leverage_limit_exceeded"
  | "order_violates_liquidation_price_constraints"
  | "margin_mode_clash"
  | "name_not_unique"
  | "no_credentials"
  | "now_api_down"
  | "object_already_exists"
  | "object_created"
  | "object_deleted"
  | "object_locked"
  | "object_not_found"
  | "object_updated"
  | "order_is_already_filled"
  | "order_is_being_processed"
  | "order_quantity_limit_exceeded"
  | "order_does_not_exist"
  | "order_price_is_invalid"
  | "order_size_too_large"
  | "order_size_too_small"
  | "orphan_open_order"
  | "orphan_close_order"
  | "position_limit_exceeded"
  | "position_does_not_exist"
  | "position_opening_temporarily_suspended"
  | "post_only_order_would_immediately_match"
  | "request_scope_limit_exceeded"
  | "risk_limit_exceeded"
  | "rpc_timeout"
  | "system_settlement_in_process"
  | "strategy_already_exists"
  | "strategy_disabled"
  | "strategy_leverage_mismatch"
  | "strategy_not_supporting_exchange"
  | "success"
  | "symbol_does_not_exist"
  | "trading_action_expired"
  | "TRADING_ACTION_SKIPPED_BOT_STOPPING"
  | "trading_has_been_locked"
  | "trading_is_suspended"
  | "unknown_error_occurred"
  | "requested_resource_not_found";

/**
 * Level of the API error.
 */
export type ApiErrorLevel = "error" | "info" | "success" | "warning";

/**
 * Type of the API error.
 */
export type ApiErrorType =
  | "user error"
  | "exchange error"
  | "server error"
  | "no error";

/**
 * Exception details returned to the client.
 */
export type ExceptionDetail = {
  /**
   * An additional error message
   */
  message?: string | null;
  /**
   * The unique error code
   */
  code: ApiErrorIdentifier;
  /**
   * The type of error
   */
  type: ApiErrorType;
  /**
   * The level of the error
   */
  level: ApiErrorLevel;
  /**
   * The HTTP status code
   */
  status_code: number;
  /**
   * Additional details about the error
   */
  details?: unknown;
};

export type LogLevel = "DEBUG" | "INFO" | "WARNING" | "ERROR" | "CRITICAL";

/**
 * Request model for creating a payment invoice.
 *
 * Creates a payment link where the customer can complete the payment.
 * With this method, the customer is required to follow the generated url to complete the payment.
 *
 * https://documenter.getpostman.com/view/7907941/2s93JusNJt#f5e4e645-dce2-4b06-b2ca-2a29aaa5e845
 */
export type NowCreateInvoiceReq = {
  /**
   * Amount to pay in fiat currency
   */
  price_amount: number;
  /**
   * Fiat currency for the price (usd, eur, etc)
   */
  price_currency: string;
  /**
   * Specific cryptocurrency or enabled fiat currency. If not specified, can be chosen on invoice_url
   */
  pay_currency?: string | null;
  /**
   * URL to receive callbacks, must contain http/https
   */
  ipn_callback_url?: string | null;
  /**
   * Internal store order ID
   */
  order_id?: string | null;
  /**
   * Internal store order description
   */
  order_description?: string | null;
  /**
   * URL for redirect after successful payment
   */
  success_url?: string | null;
  /**
   * URL for redirect after failed payment
   */
  cancel_url?: string | null;
  /**
   * URL for redirect after partial payment
   */
  partially_paid_url?: string | null;
  /**
   * Enable fixed-rate exchanges (rate frozen for 20 minutes)
   */
  is_fixed_rate?: boolean | null;
  /**
   * Enable fixed-rate exchanges with all fees paid by users
   */
  is_fee_paid_by_user?: boolean | null;
};

/**
 * Response model for created invoice.
 * https://documenter.getpostman.com/view/7907941/2s93JusNJt#f5e4e645-dce2-4b06-b2ca-2a29aaa5e845
 */
export type NowCreateInvoiceRes = {
  /**
   * Invoice ID
   */
  id: string;
  /**
   * Internal identifier
   */
  token_id: string;
  /**
   * Order ID specified in request
   */
  order_id?: string | null;
  /**
   * Order description specified in request
   */
  order_description?: string | null;
  /**
   * Base price in fiat
   */
  price_amount: string;
  /**
   * Ticker of base fiat currency
   */
  price_currency: string;
  /**
   * Currency customer will pay with
   */
  pay_currency?: string | null;
  /**
   * Link to IPN notifications endpoint
   */
  ipn_callback_url?: string | null;
  /**
   * Link to the payment page
   */
  invoice_url: string;
  /**
   * Redirect URL for successful payment
   */
  success_url?: string | null;
  /**
   * Redirect URL for failed payment
   */
  cancel_url?: string | null;
  /**
   * Redirect URL for partial payment
   */
  partially_paid_url?: string | null;
  /**
   * Ticker of payout currency
   */
  payout_currency?: string | null;
  /**
   * Time of invoice creation
   */
  created_at: string;
  /**
   * Time of latest invoice update
   */
  updated_at: string;
  /**
   * Fixed Rate option status
   */
  is_fixed_rate: boolean;
  /**
   * Fee Paid By User option status
   */
  is_fee_paid_by_user: boolean;
};

/**
 * Combined payment model across all services
 */
export type Payment = {
  /**
   * Payment ID
   */
  id: string;
  /**
   * Product ID
   */
  product_id: string;
  /**
   * Payment timestamp in seconds
   */
  timestamp: number;
  /**
   * Payment amount
   */
  amount: number;
  /**
   * Payment currency
   */
  currency: string;
  status: PaymentStatus;
  /**
   * Payment provider
   */
  provider: Provider;
  /**
   * Payment market
   */
  market: string;
};

/**
 * Payment status
 */
export type PaymentStatus =
  | "waiting"
  | "processing"
  | "paid"
  | "partially_paid"
  | "refunded"
  | "failed"
  | "cancelled";

/**
 * Model for reading a product
 */
export type Product = {
  /**
   * Product name
   */
  name: string;
  /**
   * Product price
   */
  price: number;
  /**
   * Scopes that product provides
   */
  scopes?: Array<Scope> | null;
  /**
   * Product duration in days. 0 means forever.
   */
  duration: number;
  /**
   * Product description
   */
  description: string;
  /**
   * Product is active
   */
  is_active: boolean;
  /**
   * UID of the product
   */
  id: string;
};

/**
 * Model for creating a product
 */
export type ProductCreate = {
  /**
   * Product name
   */
  name: string;
  /**
   * Product price
   */
  price: number;
  /**
   * Scopes that product provides
   */
  scopes?: Array<Scope> | null;
  /**
   * Product duration in days. 0 means forever.
   */
  duration: number;
  /**
   * Product description
   */
  description: string;
  /**
   * Product is active
   */
  is_active: boolean;
};

/**
 * Model for updating a product
 */
export type ProductUpdate = {
  /**
   * Product name
   */
  name?: string | null;
  /**
   * Product price
   */
  price?: number | null;
  /**
   * Scopes that product provides
   */
  scopes?: Array<Scope> | null;
  /**
   * Product duration in days. 0 means forever.
   */
  duration?: number | null;
  /**
   * Product description
   */
  description?: string | null;
  /**
   * Product is active
   */
  is_active?: boolean | null;
};

/**
 * Available payment providers
 */
export type Provider = "now";

/**
 * The permission scopes for the API.
 */
export type Scope =
  | "write:admin"
  | "read:admin"
  | "read:predictions"
  | "read:hive:model"
  | "read:hive:data"
  | "write:hive:model"
  | "read:trade:bots"
  | "write:trade:bots"
  | "read:trade:exchangekeys"
  | "write:trade:exchangekeys"
  | "read:trade:orders"
  | "read:trade:actions"
  | "write:trade:actions"
  | "read:trade:exchanges"
  | "read:trade:futures"
  | "write:trade:futures"
  | "read:trade:notifications"
  | "write:trade:notifications"
  | "read:trade:strategies"
  | "write:trade:strategies"
  | "read:pay:payments"
  | "read:pay:products"
  | "write:pay:products"
  | "read:pay:now"
  | "write:pay:now"
  | "read:metrics:marketcap"
  | "read:metrics:indicators"
  | "read:metrics:exchanges"
  | "read:metrics:tokens"
  | "read:metrics:markets"
  | "read:sentiment"
  | "read:klines";

/**
 * Model for reading a product subscription
 */
export type Subscription = {
  /**
   * User ID
   */
  user_id: string;
  /**
   * Product ID
   */
  product_id: string;
  /**
   * Access from timestamp in seconds
   */
  access_from: number;
  /**
   * Access until timestamp in seconds. 0 means unlimited.
   */
  access_until: number;
  /**
   * UID of the product subscription
   */
  id: string;
};

export type PingResponse = string;

export type PingError = ExceptionDetail;

export type GetTimeData = {
  query?: {
    type?: "iso" | "unix";
  };
};

export type GetTimeResponse = string;

export type GetTimeError = ExceptionDetail;

export type GetNowApiStatusResponse = string;

export type GetNowApiStatusError = ExceptionDetail;

export type CreateNowInvoiceData = {
  body: NowCreateInvoiceReq;
};

export type CreateNowInvoiceResponse = NowCreateInvoiceRes;

export type CreateNowInvoiceError = ExceptionDetail;

export type HandleNowWebhookResponse = unknown;

export type HandleNowWebhookError = ExceptionDetail;

export type GetNowPaymentsResponse = Array<Payment>;

export type GetNowPaymentsError = ExceptionDetail;

export type GetNowPaymentByInvoiceData = {
  path: {
    /**
     * The invoice ID
     */
    id: number;
  };
};

export type GetNowPaymentByInvoiceResponse = Payment;

export type GetNowPaymentByInvoiceError = ExceptionDetail;

export type GetProductsData = {
  query?: {
    /**
     * Limit the number of products returned. 0 means no limit.
     */
    limit?: number;
    /**
     * Offset the number of products returned. 0 means no offset.
     */
    offset?: number;
  };
};

export type GetProductsResponse = Array<Product>;

export type GetProductsError = ExceptionDetail;

export type CreateProductData = {
  body: ProductCreate;
};

export type CreateProductResponse = Product;

export type CreateProductError = ExceptionDetail;

export type GetProductUsageResponse = Array<[string, number]>;

export type GetProductUsageError = ExceptionDetail;

export type UpdateProductData = {
  body: ProductUpdate;
  path: {
    /**
     * The ID of the product to update
     */
    id: string;
  };
};

export type UpdateProductResponse = Product;

export type UpdateProductError = ExceptionDetail;

export type GetPaymentHistoryData = {
  query?: {
    /**
     * Limit the number of payments returned. 0 means no limit.
     */
    limit?: number;
    /**
     * Offset the number of payments returned. 0 means no offset.
     */
    offset?: number;
  };
};

export type GetPaymentHistoryResponse = Array<Payment>;

export type GetPaymentHistoryError = ExceptionDetail;

export type GetSubscriptionsData = {
  query?: {
    /**
     * The state of the subscriptions to get. Defaults to all states.
     */
    state?: "active" | "inactive" | "both";
    /**
     * The user ID to get subscriptions for. Defaults to the authenticated user.
     */
    user_id?: string | null;
  };
};

export type GetSubscriptionsResponse = Array<Subscription>;

export type GetSubscriptionsError = ExceptionDetail;

export type GetLogLevelResponse = LogLevel;

export type GetLogLevelError = ExceptionDetail;

export type GetUptimeData = {
  query?: {
    type?: "seconds" | "human";
  };
};

export type GetUptimeResponse = string;

export type GetUptimeError = ExceptionDetail;

export type GetMemoryUsageResponse = number;

export type GetMemoryUsageError = ExceptionDetail;

export type GetThreadsResponse = {
  [key: string]: unknown;
};

export type GetThreadsError = ExceptionDetail;

export type GetContainerLimitsResponse = {
  [key: string]: unknown;
};

export type GetContainerLimitsError = ExceptionDetail;

export type GetDependenciesData = {
  query?: {
    /**
     * List of regex patterns to match against package names. If not provided, all installed packages will be returned.
     */
    include?: Array<string>;
  };
};

export type GetDependenciesResponse = {
  [key: string]: string;
};

export type GetDependenciesError = ExceptionDetail;
