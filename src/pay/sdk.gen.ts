// This file is auto-generated by @hey-api/openapi-ts

import {
  createClient as createNativeClient,
  createConfig,
  type OptionsLegacyParser,
} from "@hey-api/client-fetch";
import type {
  NowGetApiStatusError,
  NowGetApiStatusResponse,
  NowGetCurrenciesData,
  NowGetCurrenciesError,
  NowGetCurrenciesResponse,
  NowGetEstimatePriceData,
  NowGetEstimatePriceError,
  NowGetEstimatePriceResponse,
  NowGetPaymentStatusData,
  NowGetPaymentStatusError,
  NowGetPaymentStatusResponse,
  NowGetMinimumPaymentAmountData,
  NowGetMinimumPaymentAmountError,
  NowGetMinimumPaymentAmountResponse,
  NowCreateInvoiceData,
  NowCreateInvoiceError,
  NowCreateInvoiceResponse,
  NowGetPaymentsListData,
  NowGetPaymentsListError,
  NowGetPaymentsListResponse,
  NowHandleWebhookError,
  NowHandleWebhookResponse,
  PingError,
  PingResponse,
  GetProductsData,
  GetProductsError,
  GetProductsResponse,
} from "./types.gen";
export function createClient(
  baseUrl: string,
  headers: any,
  fetch = globalThis.fetch,
) {
  const client = createNativeClient(
    createConfig({
      baseUrl,
      fetch,
      headers,
    }),
  );

  /**
   * Get Api Status
   * Get NOWPayments API status
   */
  const nowGetApiStatus = <ThrowOnError extends boolean = false>(
    options?: OptionsLegacyParser<unknown, ThrowOnError>,
  ) => {
    return (options?.client ?? client).get<
      NowGetApiStatusResponse,
      NowGetApiStatusError,
      ThrowOnError
    >({
      ...options,
      url: "/now/status",
    });
  };

  /**
   * Get Currencies
   * Get all available cryptocurrencies
   */
  const nowGetCurrencies = <ThrowOnError extends boolean = false>(
    options?: OptionsLegacyParser<NowGetCurrenciesData, ThrowOnError>,
  ) => {
    return (options?.client ?? client).get<
      NowGetCurrenciesResponse,
      NowGetCurrenciesError,
      ThrowOnError
    >({
      ...options,
      url: "/now/currencies",
    });
  };

  /**
   * Get Estimate Price
   * Get price estimate for currency conversion
   */
  const nowGetEstimatePrice = <ThrowOnError extends boolean = false>(
    options: OptionsLegacyParser<NowGetEstimatePriceData, ThrowOnError>,
  ) => {
    return (options?.client ?? client).post<
      NowGetEstimatePriceResponse,
      NowGetEstimatePriceError,
      ThrowOnError
    >({
      ...options,
      url: "/now/estimate",
    });
  };

  /**
   * Get Payment Status
   * Get status of a specific payment
   */
  const nowGetPaymentStatus = <ThrowOnError extends boolean = false>(
    options: OptionsLegacyParser<NowGetPaymentStatusData, ThrowOnError>,
  ) => {
    return (options?.client ?? client).get<
      NowGetPaymentStatusResponse,
      NowGetPaymentStatusError,
      ThrowOnError
    >({
      ...options,
      url: "/now/payment/{payment_id}",
    });
  };

  /**
   * Get Minimum Payment Amount
   * Get minimum payment amount for a currency pair
   */
  const nowGetMinimumPaymentAmount = <ThrowOnError extends boolean = false>(
    options: OptionsLegacyParser<NowGetMinimumPaymentAmountData, ThrowOnError>,
  ) => {
    return (options?.client ?? client).post<
      NowGetMinimumPaymentAmountResponse,
      NowGetMinimumPaymentAmountError,
      ThrowOnError
    >({
      ...options,
      url: "/now/min-amount",
    });
  };

  /**
   * Create Invoice
   * Create a payment invoice with a payment link for customer completion
   */
  const nowCreateInvoice = <ThrowOnError extends boolean = false>(
    options: OptionsLegacyParser<NowCreateInvoiceData, ThrowOnError>,
  ) => {
    return (options?.client ?? client).post<
      NowCreateInvoiceResponse,
      NowCreateInvoiceError,
      ThrowOnError
    >({
      ...options,
      url: "/now/invoice",
    });
  };

  /**
   * Get Payments List
   * Get list of all payments with optional filtering and pagination
   */
  const nowGetPaymentsList = <ThrowOnError extends boolean = false>(
    options?: OptionsLegacyParser<NowGetPaymentsListData, ThrowOnError>,
  ) => {
    return (options?.client ?? client).get<
      NowGetPaymentsListResponse,
      NowGetPaymentsListError,
      ThrowOnError
    >({
      ...options,
      url: "/now/payment",
    });
  };

  /**
   * Handle Nowpayments Webhook
   * Handle NOWPayments webhook notifications (IPN).
   * Validates the signature and forwards the payment status update to the auth service.
   */
  const nowHandleWebhook = <ThrowOnError extends boolean = false>(
    options?: OptionsLegacyParser<unknown, ThrowOnError>,
  ) => {
    return (options?.client ?? client).post<
      NowHandleWebhookResponse,
      NowHandleWebhookError,
      ThrowOnError
    >({
      ...options,
      url: "/now/webhook",
    });
  };

  /**
   * Ping
   */
  const ping = <ThrowOnError extends boolean = false>(
    options?: OptionsLegacyParser<unknown, ThrowOnError>,
  ) => {
    return (options?.client ?? client).get<
      PingResponse,
      PingError,
      ThrowOnError
    >({
      ...options,
      url: "/",
    });
  };

  /**
   * Get Products
   * Get all products
   */
  const getProducts = <ThrowOnError extends boolean = false>(
    options?: OptionsLegacyParser<GetProductsData, ThrowOnError>,
  ) => {
    return (options?.client ?? client).get<
      GetProductsResponse,
      GetProductsError,
      ThrowOnError
    >({
      ...options,
      url: "/products",
    });
  };

  return {
    nowGetApiStatus,
    nowGetCurrencies,
    nowGetEstimatePrice,
    nowGetPaymentStatus,
    nowGetMinimumPaymentAmount,
    nowCreateInvoice,
    nowGetPaymentsList,
    nowHandleWebhook,
    ping,
    getProducts,
  };
}
