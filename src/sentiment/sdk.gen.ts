import {
  createClient as createNativeClient,
  createConfig,
  type OptionsLegacyParser,
} from "@hey-api/client-fetch";

import type {
  PingError,
  PingResponse,
  GetTimeData,
  GetTimeError,
  GetTimeResponse,
  GetConfigError,
  GetConfigResponse,
  GetSentimentByCoinData,
  GetSentimentByCoinError,
  GetSentimentByCoinResponse,
  GetSentimentByKeywordData,
  GetSentimentByKeywordError,
  GetSentimentByKeywordResponse,
  GetUniqueSymbolsError,
  GetUniqueSymbolsResponse,
  GetUniqueKeywordsError,
  GetUniqueKeywordsResponse,
} from "./types.gen";

export function createClient(
  baseUrl: string,
  headers: any,
  fetch = globalThis.fetch,
) {
  const client = createNativeClient(
    createConfig({
      baseUrl,
      fetch,
      headers,
    }),
  );

  // This file is auto-generated by @hey-api/openapi-ts

  /**
   * Ping
   * Returns 'OK' if the API is running.
   */
  const ping = <ThrowOnError extends boolean = false>(
    options?: OptionsLegacyParser<unknown, ThrowOnError>,
  ) => {
    return (options?.client ?? client).get<
      PingResponse,
      PingError,
      ThrowOnError
    >({
      ...options,
      url: "/",
    });
  };

  /**
   * Time
   * Returns the current time in the specified format.
   */
  const getTime = <ThrowOnError extends boolean = false>(
    options?: OptionsLegacyParser<GetTimeData, ThrowOnError>,
  ) => {
    return (options?.client ?? client).get<
      GetTimeResponse,
      GetTimeError,
      ThrowOnError
    >({
      ...options,
      url: "/time",
    });
  };

  /**
   * Config
   * Returns the version of the crypticorn library and the environment.
   */
  const getConfig = <ThrowOnError extends boolean = false>(
    options?: OptionsLegacyParser<unknown, ThrowOnError>,
  ) => {
    return (options?.client ?? client).get<
      GetConfigResponse,
      GetConfigError,
      ThrowOnError
    >({
      ...options,
      url: "/config",
    });
  };

  /**
   * Read Sentiment Coin
   */
  const getSentimentByCoin = <ThrowOnError extends boolean = false>(
    options: OptionsLegacyParser<GetSentimentByCoinData, ThrowOnError>,
  ) => {
    return (options?.client ?? client).get<
      GetSentimentByCoinResponse,
      GetSentimentByCoinError,
      ThrowOnError
    >({
      ...options,
      url: "/coin/{coin}",
    });
  };

  /**
   * Read Sentiment Keyword
   */
  const getSentimentByKeyword = <ThrowOnError extends boolean = false>(
    options: OptionsLegacyParser<GetSentimentByKeywordData, ThrowOnError>,
  ) => {
    return (options?.client ?? client).get<
      GetSentimentByKeywordResponse,
      GetSentimentByKeywordError,
      ThrowOnError
    >({
      ...options,
      url: "/keyword/{keyword}",
    });
  };

  /**
   * Read Symbols
   */
  const getUniqueSymbols = <ThrowOnError extends boolean = false>(
    options?: OptionsLegacyParser<unknown, ThrowOnError>,
  ) => {
    return (options?.client ?? client).get<
      GetUniqueSymbolsResponse,
      GetUniqueSymbolsError,
      ThrowOnError
    >({
      ...options,
      url: "/symbols",
    });
  };

  /**
   * Read Keywords
   */
  const getUniqueKeywords = <ThrowOnError extends boolean = false>(
    options?: OptionsLegacyParser<unknown, ThrowOnError>,
  ) => {
    return (options?.client ?? client).get<
      GetUniqueKeywordsResponse,
      GetUniqueKeywordsError,
      ThrowOnError
    >({
      ...options,
      url: "/keywords",
    });
  };

  return {
    ping,
    getTime,
    getConfig,
    getSentimentByCoin,
    getSentimentByKeyword,
    getUniqueSymbols,
    getUniqueKeywords,
  };
}
